(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5734],{1250:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var s=l(95155),r=l(12115),a=l(33546),o=l(86443),n=l(18398),d=l(99003),i=l(5772),c=l(98500),p=l.n(c),m=l(70114),x=l(94432),h=l(17998),u=l(80712),f=l(83599),y=l(14515),g=l(2943);let j=o.Ikc({code:o.YjP().min(1,"Please enter a promocode")}),b=(0,n.PA)(()=>{let{rootStore:{promoCodeStore:e,userStore:{user:t}}}=(0,m.gy)(),l=e.getAsyncStatus(e.asyncStatuses.getUserPromoCodes),o=(0,d.mN)({resolver:(0,a.u)(j),defaultValues:{code:""}}),{handleSubmit:n,reset:c,formState:{isSubmitting:b}}=o,N=async t=>{try{let l=t.code.trim();console.log("Submitting promocode:",l);let s=await e.applyPromoCode(l);console.log("Promocode applied successfully:",s),c()}catch(e){console.error("Error applying promocode:",e)}};return(0,r.useEffect)(()=>{e.getUserPromoCodes()},[e]),(0,s.jsxs)("section",{className:"flex flex-1 flex-col items-center justify-start lg:justify-center gap-[54px] lg:pb-[100px]",children:[(0,s.jsx)("div",{className:"absolute right-[20px] top-[30px] lg:top-[20px] md:right-[54px] md:top-[54px] xl:right-0",children:(0,s.jsx)(x.K0,{asChild:!0,variant:"secondary",children:(0,s.jsx)(p(),{href:f.Oe,children:(0,s.jsx)(i.default,{src:u.w0,alt:"Close"})})})}),(0,s.jsxs)("div",{className:"flex lg:w-[480px] flex-col items-center justify-center w-full p-4",children:[(0,s.jsx)("div",{className:"flex w-full px-4 pt-2 md:justify-center mb-[32px]",children:(0,s.jsx)("p",{className:"md:text-h3 lg:text-h2 text-white text-h4",children:"Promo Codes"})}),(0,s.jsxs)("div",{className:"flex w-full flex-1 flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-4 rounded-[16px] border border-g4 bg-g5 p-6",children:[(0,s.jsx)("p",{className:"text-pM text-g1 w-full mb-2",children:"Enter your promocode to get bonus credits and discounts"}),(0,s.jsx)(h.MG,{formContext:o,onSuccess:N,formProps:{className:"w-full"},children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsx)(h.ey,{name:"code",placeholder:"Enter promocode",disabled:b}),(0,s.jsx)(x.$n,{type:"submit",className:"w-full",disabled:b,children:b?"Applying...":"Apply Promocode"})]})}),e.error&&(0,s.jsx)("div",{className:"mt-4 text-pM w-full text-error",children:e.error})]}),!l.loading&&e.promoCodeHistory.length>0&&(0,s.jsxs)("div",{className:"flex w-full flex-col items-start justify-between gap-2 rounded-[16px] border border-g4 bg-g5 p-6",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between mb-4",children:[(0,s.jsx)("p",{className:"text-h5 text-white",children:"Your Applied Promocodes"}),l.loading&&(0,s.jsx)("p",{className:"text-pSM text-g1",children:"Loading..."})]}),(0,s.jsx)("div",{className:"w-full",children:e.promoCodeHistory.map(e=>{let t=(e=>{if(!e)return null;let t=new Date(e);return Number.isNaN(t.getTime())?null:t.toLocaleDateString()})(e.subscriptionEndDate??null);return(0,s.jsxs)("div",{className:"flex flex-col border-b border-g4 py-3 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsx)("p",{className:"text-pM font-semibold",children:e.code}),(0,s.jsx)("p",{className:"text-pM text-g1",children:new Date(e.appliedAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"mt-1 flex w-full flex-wrap justify-between gap-y-1",children:[e.rewardType===g.t4.CREDITS&&e.creditAmount>0&&(0,s.jsxs)("p",{className:"text-pSM text-g1",children:["Credits:"," ",(0,s.jsx)("span",{className:"text-white",children:e.creditAmount})]}),e.rewardType===g.t4.SUBSCRIPTION&&(0,s.jsxs)("p",{className:"text-pSM text-g1",children:["Subscription:"," ",(0,s.jsx)("span",{className:"text-white",children:(e=>{if(!e)return null;let t=y.Y.get(e);return t?t.name:e.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})(e.subscriptionType??null)??"Selected subscription"}),e.subscriptionDurationDays?` â€¢ ${e.subscriptionDurationDays} day${1===e.subscriptionDurationDays?"":"s"}`:""]}),e.discountPercentage>0&&(0,s.jsxs)("p",{className:"text-pSM text-g1",children:["Discount:"," ",(0,s.jsxs)("span",{className:"text-white",children:[e.discountPercentage,"%"]})]})]}),e.rewardType===g.t4.SUBSCRIPTION&&t&&(0,s.jsxs)("p",{className:"text-pSM text-g1",children:["Expires:"," ",(0,s.jsx)("span",{className:"text-white",children:t})]}),e.description&&(0,s.jsx)("p",{className:"mt-1 text-pSM text-g1",children:e.description})]},e.id)})})]}),l.loading&&(0,s.jsx)("div",{className:"flex w-full items-center justify-center p-6 rounded-[16px] border border-g4 bg-g5",children:(0,s.jsx)("p",{className:"text-g1",children:"Loading your promocode history..."})}),!l.loading&&0===e.promoCodeHistory.length&&(0,s.jsx)("div",{className:"flex w-full items-center justify-center p-6 rounded-[16px] border border-g4 bg-g5",children:(0,s.jsx)("p",{className:"text-g1",children:"You haven't applied any promocodes yet"})})]})]})]})})},1997:(e,t,l)=>{"use strict";l.d(t,{G:()=>a});var s=l(14515),r=l(96830);let a=(e=0)=>{let{rootStore:{userStore:{user:t},modalsStore:{premiumOnlyModal:{open:l}}}}=(0,r.g)(),{weight:a}=s.Y.get(t?.subscriptionType)??{weight:0},o=a>=e,n=(e=0)=>a>=e;return{isAllowed:o,notAllowed:!o,openNotAllowedModal:l,checkIsAllowed:n,onSubmitCheck:(e,t)=>{n(t)?e():l()}}}},14515:(e,t,l)=>{"use strict";l.d(t,{L:()=>a,Y:()=>r});var s=l(2943);let r=new Map([[s.pE.FREE,{name:"Free",type:s.pE.FREE,monthPrice:"$0",threeMonthsPrice:"$0",yearlyPrice:"$0",threeMonthsTotal:"$0",yearlyTotal:"$0",perks:["Undress Mode","3 Instant Credits","1 Daily Credit"],flagman:!1,weight:0,instantCredits:2,dailyCredits:1,patreonId:null,lemonId1Month:null,lemonId3Month:null,lemonIdYear:null,kodepayId1Month:null,kodepayId3Month:null,kodepayIdYear:null,monthType:s.pE.FREE,threeMonthsType:s.pE.FREE,yearType:s.pE.FREE}],[s.pE.PREMIUM,{type:s.pE.PREMIUM,name:"Premium",monthPrice:"$39.99",threeMonthsPrice:"$33.33",yearlyPrice:"$19.99",threeMonthsTotal:"$99.99",yearlyTotal:"$239.99",perks:["500 Instant Credits","25 Daily Credits","Video Mode Full (NEW)","Undress Mode Full","Priority Speed","No Watermark"],flagman:!0,weight:3,subscribersOnly:!1,instantCredits:475,dailyCredits:25,patreonId:null,lemonId1Month:"",lemonId3Month:"",lemonIdYear:"",kodepayId1Month:"prod_7b1e58e134ee44e1",kodepayId3Month:"prod_1382a4c2092d4a5c",kodepayIdYear:"prod_f7f3323254dc4833",monthType:s.pE.PREMIUM,threeMonthsType:s.pE.PREMIUM_3_MONTHS,yearType:s.pE.PREMIUM_YEARLY}],[s.pE.STARTER,{name:"Starter",type:s.pE.STARTER,monthPrice:"$9.99",threeMonthsPrice:"$8.49",yearlyPrice:"$4.99",threeMonthsTotal:"$25.47",yearlyTotal:"$59.99",perks:["50 Instant Credits","5 Daily Credits","Undress Mode"],flagman:!1,weight:1,instantCredits:45,dailyCredits:5,patreonId:null,lemonId1Month:"",lemonId3Month:"",lemonIdYear:"",kodepayId1Month:"prod_8e2c11289a8b449b",kodepayId3Month:"prod_45faefb3b0a74c4b",kodepayIdYear:"prod_5a5e6e7b26c04134",monthType:s.pE.STARTER,threeMonthsType:s.pE.STARTER_3_MONTHS,yearType:s.pE.STARTER_YEARLY}],[s.pE.BASIC,{name:"Basic",type:s.pE.BASIC,monthPrice:"$19.99",threeMonthsPrice:"$16.49",yearlyPrice:"$9.99",threeMonthsTotal:"$49.47",yearlyTotal:"$119.99",perks:["100 Instant Credits","15 Daily Credits","Video Mode (NEW)","Undress Mode","No Watermark"],flagman:!1,weight:2,instantCredits:85,dailyCredits:15,patreonId:null,lemonId1Month:"",lemonId3Month:"",lemonIdYear:"",kodepayId1Month:"prod_1a82d6bd42b6449f",kodepayId3Month:"prod_ec44be6344f84d9f",kodepayIdYear:"prod_86e416a253bb4b85",monthType:s.pE.BASIC,threeMonthsType:s.pE.BASIC_3_MONTHS,yearType:s.pE.BASIC_YEARLY}]]),a=Array.from(r.values())},17998:(e,t,l)=>{"use strict";l.d(t,{MG:()=>c,ey:()=>h,Yq:()=>p,CH:()=>x,ML:()=>i});var s=l(95155),r=l(99003),a=l(5772),o=l(94432),n=l(80712),d=l(1997);let i=({name:e,label:t,weight:l,disabled:i,...c})=>{let{field:{value:p,onChange:m}}=(0,r.as)({name:e}),{notAllowed:x,openNotAllowedModal:h}=(0,d.G)(l);return(0,s.jsxs)("div",{className:`flex max-h-[200px] w-full flex-col gap-2 relative ${i?"opacity-50":""}`,children:[(0,s.jsx)(o.JU,{htmlFor:"textarea",children:t}),(0,s.jsx)(o.TM,{id:"textarea",...c,value:p,onClick:x?h:()=>"",onChange:m,disabled:i}),x&&(0,s.jsx)(a.default,{src:n.XA,alt:"",className:"absolute right-3 top-5"})]})};l(12115);let c=({onSubmit:e,children:t,formContext:l,formProps:a,onSuccess:o,...n})=>{let d=(0,r.mN)({...n});if(!l){let{handleSubmit:e}=d;return(0,s.jsx)(r.Op,{...d,children:(0,s.jsx)("form",{onSubmit:e(o||(()=>console.log('submit handler "onSubmit" is missing'))),...a,children:t})})}return(0,s.jsx)(r.Op,{...l,children:(0,s.jsx)("form",{onSubmit:e||(o?l.handleSubmit(o):()=>console.log("submit handler is missing")),...a,children:t})})},p=({name:e,placeholder:t,defaultValue:l,label:i,items:c,disabled:p})=>{let{field:{value:m,onChange:x}}=(0,r.as)({name:e,defaultValue:l}),{checkIsAllowed:h,onSubmitCheck:u}=(0,d.G)();return(0,s.jsxs)("div",{className:`flex w-full flex-col gap-2 items-start ${p?"opacity-50":""}`,children:[(0,s.jsx)(o.JU,{htmlFor:"select",className:"text-st ml-4",children:i}),(0,s.jsxs)(o.l6,{value:m,onValueChange:e=>{let{weight:t=0}=c.find(t=>t.value===e)??{};u(()=>x(e),t)},disabled:p,children:[(0,s.jsx)(o.bq,{id:"select",className:"relative",children:(0,s.jsx)(o.yv,{placeholder:t})}),(0,s.jsx)(o.gC,{children:c.map(({value:e,label:t,weight:l=0})=>{let r=h(l);return(0,s.jsx)(o.eb,{value:e,children:(0,s.jsxs)("div",{className:"flex gap-2",children:[t,!r&&(0,s.jsx)(a.default,{src:n.XA,alt:""})]})},e)})})]})]})};l(65281);var m=l(40980);let x=({name:e,label:t,items:l,className:i,disabled:c})=>{let{field:{value:p,onChange:x}}=(0,r.as)({name:e}),{checkIsAllowed:h,onSubmitCheck:u}=(0,d.G)();return(0,s.jsxs)("div",{className:(0,m.cn)("flex flex-col gap-2 overflow-auto",i,{"opacity-50 pointer-events-none":c}),children:[t&&(0,s.jsx)(o.JU,{htmlFor:"",className:"text-st ml-4",children:t}),(0,s.jsx)(o.tU,{value:p,onValueChange:e=>{if(c)return;let{weight:t}=l.find(t=>t.value===e)??{};u(()=>x(e),t)},className:"overflow-auto",children:(0,s.jsx)(o.j7,{className:"overflow-auto",children:l.map(({value:e,label:t,weight:l})=>{let r=h(l);return(0,s.jsxs)(o.Xi,{value:e,disabled:c,children:[t,!r&&(0,s.jsx)(a.default,{src:n.XA,alt:"",className:"ml-1"})]},e)})})})]})},h=({name:e,label:t,...l})=>{let{field:{value:a,onChange:n},fieldState:{error:d}}=(0,r.as)({name:e});return(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,s.jsx)(o.JU,{htmlFor:"textarea",children:t}),(0,s.jsx)(o.pd,{...l,value:a,onChange:n}),d&&(0,s.jsx)("span",{className:"text-error text-smt",children:d.message})]})}},65281:(e,t,l)=>{"use strict";l.d(t,{j:()=>c});var s=l(95155),r=l(99003),a=l(73321),o=l(5772),n=l(94432),d=l(80712),i=l(1997);let c=({name:e,placeholder:t,defaultValue:l,label:c,items:p,disabled:m})=>{(0,a.useRouter)();let{field:{value:x,onChange:h}}=(0,r.as)({name:e,defaultValue:l}),{checkIsAllowed:u,onSubmitCheck:f}=(0,i.G)();return(0,s.jsxs)("div",{className:`flex w-full flex-col gap-2 items-start ${m?"opacity-50 pointer-events-none":""}`,children:[(0,s.jsx)(n.JU,{htmlFor:"select",className:"text-st ml-4",children:c}),(0,s.jsxs)(n.l6,{value:x,onValueChange:e=>{if(m)return;let{weight:t}=p.find(t=>t.value===e)??{};f(()=>h(e),t)},disabled:m,children:[(0,s.jsx)(n.bq,{id:"select",className:"relative",children:(0,s.jsx)(n.yv,{placeholder:t})}),(0,s.jsx)(n.gC,{children:p.map(({value:e,label:t,weight:l})=>{let r=u(l);return(0,s.jsx)(n.eb,{value:e,children:(0,s.jsxs)("div",{className:"flex gap-2",children:[t,!r&&(0,s.jsx)(o.default,{src:d.XA,alt:""})]})},e)})})]})]})}},75770:(e,t,l)=>{Promise.resolve().then(l.bind(l,1250))}},e=>{e.O(0,[7874,8096,4088,6957,7358],()=>e(e.s=75770)),_N_E=e.O()}]);